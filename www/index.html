<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />
        <link rel="stylesheet" href="css/style.css" />
        <script type="text/javascript" src="js/Toast.js"></script>
        <script src="js/jquery-2.1.4.min.js"></script>
        <script src="js/jquery.mobile-1.4.5.min.js"></script>
        <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
        <script type="text/javascript" src="js/script.js"></script>
        <script type="text/javascript" src="js/database.js"></script>
        <script src="js/Chart.min.js"></script>
        <script src="js/Chart.bundle.min.js"></script>

    </head>
    <body>
        <!-- Start page -->
        <div data-role="page" id="startPage">
            <div data-role="main" class="ui-content">
                <div class="ui-field-contain" id="glownyst">
                    <img src="img/logo.png" id="logost">
                    <a href="#loginPage" class="ui-btn ui-corner-all" id="zalogujst">ZALOGUJ</a>
                    <p> LUB </p>
                    <a href="#regPage" class="ui-btn ui-corner-all" id="zarejestrujst">ZAREJESTRUJ</a>
                    <button onclick="window.plugins.toast.show('Hello there!', 'long', 'center', function(a){console.log('toast success: ' + a)}, function(b){alert('toast error: ' + b)})">Toast show long center</button>
                </div>
            </div>
        </div>
      
        <!-- Login page -->
        <div data-role="page" id="loginPage">
            <div data-role="header" class="header">
                <a href="#startPage" class="ui-btn ui-icon-arrow-l ui-btn-icon-left ui-btn-icon-notext backbutt"></a>
                <h1>Logowanie</h1>
            </div>

            <div data-role="main" class="ui-content">
                <div class="ui-field-contain">
                    <input type="text" placeholder="Email" id="email"/>
                    <input type="password" placeholder="Hasło" id="haslo"/>
                </div>
                <p id="logInfo">
                    <br>
                </p>
                <button class="ui-btn ui-corner-all" id="zaloguj">Zaloguj</button>
                <br>
                <p align="center">LUB</p>
                <br>
                <button class="ui-btn ui-corner-all ui-btn-icon-left ui-icon-fbicon" id="zalogujFB">Zaloguj przez Facebook</button>
                <button class="ui-btn ui-corner-all ui-btn-icon-left ui-icon-gicon" id="zalogujG">Zaloguj przez Google</button>           
            </div>
        </div>
      
        <!-- Registration page -->
        <div data-role="page" id="regPage">
            <div data-role="header" class="header">
                <a href="#startPage" class="ui-btn ui-corner-all ui-icon-arrow-l ui-btn-icon-notext backbutt"></a>
                <h1>Rejestracja</h1>
            </div>
          
            <div data-role="main" class="ui-content">
                <div class="ui-field-contain">
                    <input type="text" placeholder="Podaj nick" id="nickreg"/>
                    <input type="text" placeholder="mail@mail.com" id="emailreg"/>
                    <input type="password" placeholder="Podaj haslo" id="hasloreg"/>
                    <input type="password" placeholder="Powtórz haslo" id="haslopowtreg"/>
                </div>
                <p id="regInfo"></p>
            </div>

            <div data-role="footer" data-position="fixed">
                <button class="ui-btn ui-corner-all" id="zarejestruj" onclick="goToSite('afterRegPage')">Zarejestruj</button>                
            </div>
        </div>
		
		<!-- After registration page -->
        <div data-role="page" id="afterRegPage">
            <div data-role="header" class="header">
                <h1 id="finrejhead">Finalizacja rejestracji</h1>
            </div>
          
            <div data-role="main" class="ui-content">
                <div id="aftRegCom">
					<h2>Sukces!</h2>
					<p>Gratulacje!<br>
						Twoje konto zostało poprawnie utworzone.<br>
						Możesz przejść do serwisu klikając w poniższy przycisk.
					</p>
				</div>
				<img src="img/downarr.png" id="downArrow"/>

				<button class="ui-btn ui-corner-all" id="przejdzDoSerwisu" onclick="getAllAnn()">Przejdź do serwisu</button>
            </div>
        </div>

        <!-- Main page - all -->
        <div data-role="page" id="mainAll">
            <div data-role="header" class="header">
                <a href="#sideMenu" class="ui-btn ui-corner-all ui-icon-bars ui-btn-icon-notext menubtn" data-role="button" role="button"></a>
                <h1 id="mainAllHeader">LearnWithMe</h1>
                <div data-role="controlgroup" id="controlBtns" class="btn-group">
                  <button class="ui-btn" id="all">Ogłoszenia</button>
                  <button class="ui-btn" id="added" onclick="getMyAnn()">Dodane</button>
                  <button class="ui-btn" id="watched" onclick="getMyWatched()">Obserwowane</button>
                </div>  
            </div>
                    
            <div data-role="panel" id="sideMenu" data-position="left" data-display="overlay" data-theme="a" class="ui-panel ui-panel-position-left ui-panel-display-overlay ui-body-a ui-panel-animate ui-panel-open">
                <div class="ui-panel-inner">
                    <h2 style="margin-left: 70px"><img src="img/logo.png" class="menuLogo"/>LearnWithMe</h2>
                    <p style="margin-top: -20px; margin-left: 70px">Meeting platform</p>
                    <ul style="list-style: none; transform: translateX(-40px);">
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-alerts ui-btn-icon-left sideMenuButton" onclick="goToSite('notice')">Powiadomienia</button></li>
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-statistics ui-btn-icon-left sideMenuButton" onclick="goToSite('chartPage');getChartData()">Statystyki</button></li>
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-authors ui-btn-icon-left sideMenuButton" onclick="goToSite('authors')">Autorzy</button></li>
                        <hr />
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-editUser ui-btn-icon-left sideMenuButton" onclick="goToSite('profileSettingsPage')">Edytuj Profil</button></li>
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-logout ui-btn-icon-left sideMenuButton" onclick="logout()">Wyloguj</button></li>
                    </ul>
                    <a href="#" data-rel="close" class="ui-btn ui-corner-all ui-btn-a ui-icon-delete ui-btn-icon-left ui-btn-inline sideMenuButton">Zamknij panel</a>
                </div>
            </div>

            <div data-role="main" class="ui-content">
            </div>

            <div data-role="footer" data-position="fixed" id="footmain">
                <button class="dodajBtn" onclick="addNewAnn()">+</button> 
          </div>
        </div>

        <!-- Main page - added -->
        <div data-role="page" id="mainAdd">
            <div data-role="header" class="header">
                <a href="#sideMenu1" class="ui-btn ui-corner-all ui-icon-bars ui-btn-icon-notext menubtn" data-role="button" role="button"></a>
                <h1 id="mainAddHeader">LearnWithMe</h1>
                <div data-role="controlgroup" id="controlBtnsAd" class="btn-group">
                  <button class="ui-btn" id="allAd" onclick="getAllAnn()">Ogłoszenia</button>
                  <button class="ui-btn" id="addedAd">Dodane</button>
                  <button class="ui-btn" id="watchedAd" onclick="getMyWatched()">Obserwowane</button>
                </div>
            </div>
            <div data-role="panel" id="sideMenu1" data-position="left" data-display="overlay" data-theme="a" class="ui-panel ui-panel-position-left ui-panel-display-overlay ui-body-a ui-panel-animate ui-panel-open">
                <div class="ui-panel-inner">
                    <h2 style="margin-left: 70px"><img src="img/logo.png" class="menuLogo"/>LearnWithMe</h2>
                    <p style="margin-top: -20px; margin-left: 70px">Meeting platform</p>
                    <ul style="list-style: none; transform: translateX(-40px);">
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-alerts ui-btn-icon-left sideMenuButton" onclick="goToSite('notice')">Powiadomienia</button></li>
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-statistics ui-btn-icon-left sideMenuButton" onclick="goToSite('chartPage');getChartData()">Statystyki</button></li>
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-authors ui-btn-icon-left sideMenuButton" onclick="goToSite('authors')">Autorzy</button></li>
                        <hr />
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-editUser ui-btn-icon-left sideMenuButton" onclick="goToSite('profileSettingsPage')">Edytuj Profil</button></li>
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-logout ui-btn-icon-left sideMenuButton" onclick="loout()">Wyloguj</button></li>
                    </ul>
                    <a href="#" data-rel="close" class="ui-btn ui-corner-all ui-btn-a ui-icon-delete ui-btn-icon-left ui-btn-inline sideMenuButton">Zamknij panel</a>
                </div>
            </div>
          
            <div data-role="main" class="ui-content"></div>

            <div data-role="footer" data-position="fixed" id="footmainAd">
                <button class="dodajBtn" onclick="addNewAnn()">+</button> 
            </div>
        </div>

        <!-- Main page - watched -->
        <div data-role="page" id="mainWatched">
            <div data-role="header" class="header">
                <a href="#sideMenu2" class="ui-btn ui-corner-all ui-icon-bars ui-btn-icon-notext menubtn" data-role="button" role="button"></a>
                <h1 id="mainWatchHeader">LearnWithMe</h1>
                <div data-role="controlgroup" id="controlBtnsWat" class="btn-group">
                  <button class="ui-btn" id="allWat" onclick="getAllAnn()">Ogłoszenia</button>
                  <button class="ui-btn" id="addedWat" onclick="getMyAnn()">Dodane</button>
                  <button class="ui-btn" id="watchedWat">Obserwowane</button>
                </div>
            </div>

            <div data-role="panel" id="sideMenu2" data-position="left" data-display="overlay" data-theme="a" class="ui-panel ui-panel-position-left ui-panel-display-overlay ui-body-a ui-panel-animate ui-panel-open">
                <div class="ui-panel-inner">
                    <h2 style="margin-left: 70px"><img src="img/logo.png" class="menuLogo"/>LearnWithMe</h2>
                    <p style="margin-top: -20px; margin-left: 70px">Meeting platform</p>
                    <ul style="list-style: none; transform: translateX(-40px);">
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-alerts ui-btn-icon-left sideMenuButton" onclick="goToSite('notice')">Powiadomienia</button></li>
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-statistics ui-btn-icon-left sideMenuButton" onclick="goToSite('chartPage');getChartData()">Statystyki</button></li>
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-authors ui-btn-icon-left sideMenuButton" onclick="goToSite('authors')">Autorzy</button></li>
                        <hr />
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-editUser ui-btn-icon-left sideMenuButton" onclick="goToSite('profileSettingsPage')">Edytuj Profil</button></li>
                        <li><button class="ui-btn ui-corner-all ui-btn-inline ui-btn-mini ui-icon-logout ui-btn-icon-left sideMenuButton" onclick="logout()">Wyloguj</button></li>
                    </ul>
                    <a href="#" data-rel="close" class="ui-btn ui-corner-all ui-btn-a ui-icon-delete ui-btn-icon-left ui-btn-inline sideMenuButton">Zamknij panel</a>
                </div>
            </div>
          
            <div data-role="main" class="ui-content"></div>

            <div data-role="footer" data-position="fixed" id="footmainWat">
                <button class="dodajBtn" onclick="addNewAnn()">+</button>
            </div>
        </div>

        <!-- New Announcement page -->
        <div data-role="page" id="addAnnoun">
            <div data-role="header" class="header">
                <a href="#mainAll" class="ui-btn ui-corner-all ui-icon-arrow-l ui-btn-icon-notext backbutt"></a>
                <h1 id="newAnnHed">Nowe ogłoszenie</h1>
            </div>
          
            <div data-role="main" class="ui-content">
                <div>
                    <p id="newAnnInfo"></p>
                    Tagi
                    <input type="text" placeholder="np. matematyka, programowanie" id="tagsNewAnn" required />
                    <hr>
                    Data
                    <input type="date" placeholder="01-01-2018" id="dateNewAnn" required/>
                    <hr>
                    Godzina ropoczęcia
                    <input type="time" placeholder="9:35" id="startTimeNewAnn" required/>
                    <hr>
                    Godzina zakończenia
                    <input type="time" placeholder="11:35" id="endTimeNewAnn" required/>
                    <hr>
                    Miejsce
                    <input type="text" placeholder="np. Paw. A, piętro 2" id="placeNewAnn" required/>
                    <hr>
                    Krótki opis (max. 150 znaków)
                    <textarea name="descNewAnn" maxlength="150" rows="6" placeholder="Opisz krótko cel spotkania" id="descriptionAnn" required></textarea>
                    <hr>
                </div>
            </div>
            <div data-role="footer" data-position="fixed" id="footerNewAnn">
                <button class="ui-btn" id="cancBtnNewAnn" onclick="goToSite('mainAll')">Anuluj</button> 
                <button class="ui-btn" id="addBtnNewAnn" onclick="addAnnoun()">Dodaj</button>
            </div>
        </div>

        <!-- Edit Announcement page -->
        <div data-role="page" id="editAnnoun">
            <div data-role="header" class="header">
                <a href="#mainAll" class="ui-btn ui-corner-all ui-icon-arrow-l ui-btn-icon-notext backbutt"></a>
                <h1 id="editAnnHed">Edycja ogłoszenia</h1>
            </div>
          
            <div data-role="main" class="ui-content">
                <div>
                    Tagi
                    <input type="text" placeholder="np. matematyka, programowanie" id="tagsEditAnn" readonly/>
                    <hr>
                    Data
                    <input type="date" placeholder="01-01-2018" id="dateEditAnn" readonly/>
                    <hr>
                    Godzina ropoczęcia
                    <input type="time" placeholder="9:35" id="startTimeEditAnn" readonly/>
                    <hr>
                    Godzina zakończenia
                    <input type="time" placeholder="11:35" id="endTimeEditAnn" readonly/>
                    <hr>
                    Miejsce
                    <input type="text" placeholder="np. Paw. A, piętro 2" id="placeEditAnn"/>
                    <hr>
                    Krótki opis (max. 150 znaków)
                    <textarea name="descEditAnn" maxlength="150" rows="6" placeholder="Opisz krótko cel spotkania"></textarea> 
                    <hr>
                </div>
            </div>
            <div data-role="footer" data-position="fixed" id="footerEditAnn">
                <button class="ui-btn" id="deleteBtnEditAnn"  onclick="changeStatus('myAnnDetailsPage')">Odwołaj</button> 
                <button class="ui-btn" id="cancBtnEditAnn" onclick="goToSite('myAnnDetailsPage')">Anuluj</button> 
                <button class="ui-btn" id="saveBtnEditAnn">Zapisz zmiany</button>
            </div>
        </div>
        
        <!-- Announcement details page -->
        <div data-role="page" id="annDetailsPage">
            <div data-role="header" class="header">
                <button  id="detailBackAll" class="ui-btn ui-icon-arrow-l ui-btn-icon-left ui-btn-icon-notext backbutt" onclick="getAllAnn()"></button>
                <button  id="detailBackWat" class="ui-btn ui-icon-arrow-l ui-btn-icon-left ui-btn-icon-notext backbutt" onclick="getMyWatched()"></button>
                <h1>Ogłoszenie</h1>
                <h2 id="usersAnnDetails">Ogłoszenie użytkownika X</h2>
                <span class="annKey" id="annKeyDetail"></span>
            </div>
          
            <div data-role="main">
                <div id="infosDetails">
                    <p>Data: <span id="dateDetails"></span></p>
                    <p>Godziny: <span id="startTimeDetails"></span> - <span id="endTimeDetails"></span></p>
                    <p>Miejsce: <span id="placeDetails"></span></p>
                    <p>Opis: <span id="descDetails"></span></p>
                    <p>Tagi: <span id="tagsDetails"></span></p>
                    <p >Obserwatorzy: <span id="followersNumb"></span></p>
                </div>
                <button id="btnDetails" onclick="toogleWatch()"><img src="img/128greybook.png" id="imgDetails"></button>
            </div>
        </div>

        <!-- My announcement details page -->
        <div data-role="page" id="myAnnDetailsPage">
            <div data-role="header" class="header">
                <button  id="myDetailBackAll" class="ui-btn ui-icon-arrow-l ui-btn-icon-left ui-btn-icon-notext backbutt" onclick="getAllAnn()"></button>
                <button  id="myDetailBackMy" class="ui-btn ui-icon-arrow-l ui-btn-icon-left ui-btn-icon-notext backbutt" onclick="getMyAnn()"></button>
                <h1>Ogłoszenie</h1>
                <h2 id="usersAnnMyDetails"></h2>
                <span class="annKey" id="myAnnKeyDetail"></span>
            </div>
          
            <div data-role="main">
                <div id="infosMyDetails">
                    Data: <span id="dateMyDetails"></span><br>
                    Godziny: <span id="startTimeMyDetails"></span> - <span id="endTimeMyDetails"></span><br>
                    Miejsce: <span id="placeMyDetails"></span><br>
                    Opis: <span id="descMyDetails"></span><br>
                    Tagi: <span id="tagsMyDetails"></span>
                </div>
            </div>

            <div data-role="footer" data-position="fixed" id="myDetailsFooter">
                <button class="ui-btn" id="odwolaj"  onclick="changeStatus()">Odwołaj</button>  
                <button class="ui-btn" id="edytuj" onclick="alert('Cholerka, coś tutaj nie działa! :(')">Edytuj</button>
            </div>
        </div>
      
        <!-- Page about autors -->
        <div data-role="page" id="authors">
            <div data-role="header" class="header">
                <a href="#mainAll" class="ui-btn ui-icon-arrow-l ui-btn-icon-left ui-btn-icon-notext backbutt"></a>
                <h1>Autorzy</h1>
            </div>
          
            <div data-role="main">
                <div id="Pawel">
                    <p id="PawTekst">
                        Nazywam się Paweł Grzyb, od 4 lat student informatyki stosowanej na UEK. Do grona zainteresowań zaliczyć mogę lekturę książek (najczęściej fanstastyka), gry komputerowe (nie gaming lecz ich rozwój) oraz muzyka z gatunku Rock. Do ulubionej serii książek to saga o Wiedźminie łącznie z opowiadaniami oraz przygody Artemisa Fowl. Nie stronie również od gier planszowych.
                    </p>
                </div>
         
                <div id="Asiam">
                    <p id="AsTekst">
                        Nazywam się Joanna Pełeńska. Jestem kierowniczką tego projektu. Studiuję informatykę na Uniwersytecie Ekonomicznym w Krakowie. Mam bardzo duże doświadczenie jako programistka, administratorka baz oraz jako ogólnie rozumiany informatyk. Moimi szczególnymi umiejętnościami jest znakomite zarządzanie ludźmi, dlatego też zawyczaj realizuję się jako kierowniczka projektów.
                    </p>
                </div>
            
                <div id="Rudzisz">
                    <p id="LukTekst">
                        Nazywam się Łukasz Pudzisz. Studiuję informatykę na Uniwersytecie Ekonomicznym w Krakowie. Jestem zapalonym programistą, znam biegle takie języki jak Java czy JavaScript, uczę się C/C++ oraz jestem biegłym operatorem baz danych i twórcą stron internetowych. Jeśli poszukujesz pracownika z takimi umiejętnościami - pisz.
                    </p>
                </div>
             
                <div id="Radek">
                    <p id="RadTekst">
                        Nazywam się Radosław Smyksy i studiuję informatykę stosowaną na Uniwersytecie Ekonomicznym w Krakowie. Jestem oddanym fanem EUIV, CK2 oraz wszelkich gier wydawanych przez Paradox Interactive, lubię czytać książki (powieści historyczne oraz fantasy) oraz zdarza mi się posłuchać wszelkiego rodzaju muzyki.
                    </p>
                </div>
            </div>
            <div data-role="footer" data-position="fixed" id="kontaktFooter">
                <button class="ui-btn ui-corner-all" id="kontaktBtn" onclick="sendMail()">Kontakt</button>                
            </div>
        </div>

        <!-- Profile settings page -->
        <div data-role="page" id="profileSettingsPage">
            <div data-role="header" class="header">
                <a href="#mainAll" class="ui-btn ui-corner-all ui-icon-arrow-l ui-btn-icon-notext backbutt"></a>
                <h1>Ustawienia profilu</h1>
            </div>
          
            <div data-role="main" class="ui-content">
                <br>
                Adres e-mail: 
                <p id="currentEmail">e-mail</p>
                Obecny nick:
                <p id="currentNick">nick</p>
                Zmień nick:
                    <input type="text" placeholder="Nick" id="nickprof"/>
            </div>

            <div data-role="footer" data-position="fixed" id="footerEditProfile">
                <button class="ui-btn ui-corner-all" id="saveChangesEditProfile" onclick="goToSite('mainAll')">Zapisz zmiany</button>                
            </div>
        </div>
      
        <!-- Notification page -->
        <div data-role="page" id="notice">
            <div data-role="header" class="header">
                <a href="#mainAll" class="ui-btn ui-corner-all ui-icon-arrow-l ui-btn-icon-notext backbutt"></a>
                <h1>Powiadomienia</h1>
            </div>
          
            <div data-role="main" class="ui-content">
                <div id="noticeContainer">
                    <p id="noticeHead">Odwołanie spotkania</p>
                    <p id="noticeText">Użytkownik X odwołał spotkanie z dnia Y godzina Z.</p>
                    <a href="" class="ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext deletebutt"></a>
                </div>
            </div>
            <div data-role="footer">
               
            </div>
        </div>

       <!-- Statistic page -->
        <div data-role="page" id="chartPage" >
            <div data-role="header" class="header">
                <a href="#mainAll" class="ui-btn ui-corner-all ui-icon-arrow-l ui-btn-icon-notext backbutt"></a>
                <h1>Statystyki</h1>
            </div>
          
            <div data-role="main" class="ui-content">
                Wykres przedstawia ilość ogłoszeń dodanych przez użykowników w ciągu ostatnich 7 dni.
                <div id="chDiv">
                    <canvas id="chart" width="100%" height="100%"></canvas>
                </div>
            </div>

            <div data-role="footer" data-position="fixed">        
            </div>
        </div>
    </body>
</html>